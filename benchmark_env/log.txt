Original implementation:
  1.031 μs (9 allocations: 23.62 KiB)
  1.015 μs (9 allocations: 23.62 KiB)
  1.175 μs (9 allocations: 23.62 KiB)
  46.830 ns (6 allocations: 384 bytes)

Optimized implementation:
  448.861 ns (3 allocations: 7.88 KiB)
  461.077 ns (3 allocations: 7.88 KiB)
  543.000 ns (3 allocations: 7.88 KiB)
  15.065 ns (2 allocations: 128 bytes)
Results match: true
Results match: true
Results match: true
Results match: true
Benchmarking with large Boolean vector (length = 1000000):

Original implementation (_csegid_old):
  1.284 ms (9 allocations: 22.89 MiB)

Current implementation (csegid):
  251.007 μs (3 allocations: 7.63 MiB)
Results match: true
Number of segments: 500035
